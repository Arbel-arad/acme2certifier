# acme.sh

## register account
```
root@rlh:~# acme.sh --server http://<server address> --register-account --accountemail <email address> --debug 2 --output-insecure
```

## deactivate account
```
root@rlh:~# acme.sh --server http://<server address> --deactivate-account --accountemail <email address> --debug 2 --output-insecure
```

## cert enrollment
```
root@rlh:~# acme.sh --server http://<server address>  --issue -d foo.example.com --standalone -w /tmp --accountemail <email address> --debug 2 --output-insecure -force
```

# Certbot

## register account
```
root@rlh:~# certbot-auto register --agree-tos -m <email address>  --serverhttp://<server address> --no-eff-email
```

## delete account
```
root@rlh:~# rm -rf /etc/letsencrypt/accounts/*
```

## cert enrollment
```
root@rlh:~# certbot-auto certonly --server http://<server address> --standalone --preferred-challenges http -d foo.example.com
```

IMPORTANT: by default a csr generated by certbot does not contain any subject name. Such csr will be refused by enterprise CA servers. for mitigation you need to create a CA policy to copying the SAN to the subject name.
[Example CA policy for Insta Certifier](certifier.md)


