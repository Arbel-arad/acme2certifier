# acme.sh

## register account
```
root@rlh:~# acme.sh --server http://<server address> --register-account --accountemail <email address> --debug 2 --output-insecure
```

## deactivate account
```
root@rlh:~# acme.sh --server http://<server address> --deactivate-account --accountemail <email address> --debug 2 --output-insecure
```

## cert enrollment
```
root@rlh:~# acme.sh --server http://<server address>  --issue -d acme-1.example.com -d acme-2.example.com --standalone -w /tmp --accountemail <email address> --debug 2 --output-insecure --force
```

## cert revocation
```
acme.sh --server http://<server address> --revoke -d acme-1.example.com -d acme-2.example.com -w /tmp --debug 2 --output-insecure
```

# Certbot

## register account
```
root@rlh:~# certbot-auto register --agree-tos -m <email address>  --server http://<server address> --no-eff-email
```

## delete account
```
root@rlh:~# rm -rf /etc/letsencrypt/accounts/*
```

## cert enrollment
```
root@rlh:~# certbot-auto certonly --server http://<server address> --standalone --preferred-challenges http -d certbot-1.example.com -d certbot-2.example.com --cert-name certbot-test
```

## cert revocation
```
certbot-auto revoke --server http://<server address> --cert-name certbot-test
```

IMPORTANT: by default a CSR generated by certbot does not contain any subject name. Such CSR will be refused by enterprise CA servers. For mitigation you need to create a CA policy setting a subject name.
[Example CA policy for Insta Certifier](certifier.md)


